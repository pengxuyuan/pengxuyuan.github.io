<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <title>Effective Objective-C 2.0 总结（一）</title>
  <meta name="description" content="前言阅读书籍全名Effective Objective-C 2.0 编写高质量iOS与OS X 代码的52个有效方法最经买了本编写高质量代码 改善Objective-C程序的61个建议，拿到手看了下目录感觉内容比这本52个有效方法更深点，之前只是浅度这本，具体讲什么也不是很记得了，所以打算先重新看下这本52个有效...">
  <meta name="author" content="Wei Wang">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Effective Objective-C 2.0 总结（一）">
  <meta name="twitter:description" content="前言阅读书籍全名Effective Objective-C 2.0 编写高质量iOS与OS X 代码的52个有效方法最经买了本编写高质量代码 改善Objective-C程序的61个建议，拿到手看了下目录感觉内容比这本52个有效方法更深点，之前只是浅度这本，具体讲什么也不是很记得了，所以打算先重新看下这本52个有效...">

  <meta property="og:type" content="article">
  <meta property="og:title" content="Effective Objective-C 2.0 总结（一）">
  <meta property="og:description" content="前言阅读书籍全名Effective Objective-C 2.0 编写高质量iOS与OS X 代码的52个有效方法最经买了本编写高质量代码 改善Objective-C程序的61个建议，拿到手看了下目录感觉内容比这本52个有效方法更深点，之前只是浅度这本，具体讲什么也不是很记得了，所以打算先重新看下这本52个有效...">

  <link rel="icon" type="image/png" href="/assets/images/favicon.png" />
  <link href="/assets/images/favicon.png" rel="shortcut icon" type="image/png">

  <link rel="stylesheet" href="/css/main.css">
  <link href="//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">

  <link rel="canonical" href="http://pengxuyuan.github.io/2016/07/Effective-Objective-C-2.0-zongjie-one/">
  <link rel="alternate" type="application/rss+xml" title="彭序猿" href="http://pengxuyuan.github.io/feed.xml">

  <meta name="google-site-verification" content="1-1ZlHoRvM0T2FqPbW2S-qLgYXN6rsn52kErlMPd_gw" />

  <!-- Hit Kounter -->
  <script src="http://hitk.applinzi.com/scripts/dst/hit-kounter.js"></script>
  <script src="https://cdn1.lncld.net/static/js/av-mini-0.6.10.js"></script>
  <script src="http://jerry-cdn.b0.upaiyun.com/hit-kounter/hit-kounter-lc-0.2.0.js"></script>

</head>


  <body>

    <span class="mobile btn-mobile-menu">
        <i class="fa fa-list btn-mobile-menu__icon"></i>
        <i class="fa fa-angle-up btn-mobile-close__icon hidden"></i>
    </span>

    <header class="panel-cover panel-cover--collapsed" style="background-image: url('/assets/images/background-cover.jpg')">
  <div class="panel-main">

    <div class="panel-main__inner panel-inverted">
    <div class="panel-main__content">

        <a href="/#blog" title="前往 彭序猿 的主页" class="blog-button"><img src="/assets/images/avatar.jpg" width="80" alt="彭序猿 logo" class="panel-cover__logo logo" /></a>
        <h1 class="panel-cover__title panel-title"><a href="/#blog" title="link to homepage for 彭序猿" class="blog-button">彭序猿</a></h1>
        
        <span class="panel-cover__subtitle panel-subtitle">耕读传家，学为好人</span>
        
        <hr class="panel-cover__divider" />
        <p class="panel-cover__description">你好，我是彭序猿，目前在iOS开发的道路上探索，这里会写点关于iOS开发blog，还有一些生活上的琐碎事儿。</p>
        <hr class="panel-cover__divider panel-cover__divider--secondary" />
        
        
        <p class="panel-cover__description">我们做技术的，不会耍什么心眼，从来都是你看我顺眼，我看你顺眼，那我们就是好基友～</p>
        
        
        <div class="navigation-wrapper">
          <div>
            <nav class="cover-navigation cover-navigation--primary">
              <ul class="navigation">
                <li class="navigation__item"><a href="/#blog" title="Visit blog" class="blog-button">博客</a></li>
                
              </ul>
            </nav>
          </div>
          
          <div><nav class="cover-navigation navigation--social">
  <ul class="navigation">

  
  <!-- Weibo -->
  <li class="navigation__item">
    <a href="http://weibo.com/pengguang9412197045" title="@pengguang9412197045 的微博" target="_blank">
      <i class='social fa fa-weibo'></i>
      <span class="label">Weibo</span>
    </a>
  </li>
  

  
  <!-- Github -->
  <li class="navigation__item">
    <a href="https://github.com/pengxuyuan" title="@pengxuyuan 的 Github" target="_blank">
      <i class='social fa fa-github'></i>
      <span class="label">Github</span>
    </a>
  </li>
  

  
  <!-- Email -->
  <li class="navigation__item">
    <a href="mailto:451946155@qq.com" title="Contact me">
      <i class='social fa fa-envelope'></i>
      <span class="label">Email</span>
    </a>
  </li>
  

  </ul>
</nav>
</div>
        </div>
      </div>
    </div>
    
    
    <div class="panel-cover--overlay cover-slate"></div>
    
  </div>
</header>


    <div class="content-wrapper">
        <div class="content-wrapper__inner">
            <article class="post-container post-container--single" itemscope itemtype="http://schema.org/BlogPosting">
  <header class="post-header">
    <div class="post-meta">
      <time datetime="2016-07-28 00:00:00 +0800" itemprop="datePublished" class="post-meta__date date">2016-07-28</time> &#8226; <span class="post-meta__tags tags"></span>
      <span class="post-meta__date date">浏览量：<span data-hk-page="current"> - </span> 次<span class="post-meta__date date"></span></span>
    </div>
    <h1 class="post-title">Effective Objective-C 2.0 总结（一）</h1>
  </header>

  <section class="post">
    <h2>前言</h2>

<p>阅读书籍全名<a href="http://item.jd.com/11402853.html">Effective Objective-C 2.0 编写高质量iOS与OS X 代码的52个有效方法</a>
最经买了本<a href="http://item.jd.com/11779514.html">编写高质量代码 改善Objective-C程序的61个建议</a>，拿到手看了下目录感觉内容比这本52个有效方法更深点，之前只是浅度这本，具体讲什么也不是很记得了，所以打算先重新看下这本52个有效方法，然后再来拜读新入手的这本。</p>

<p>这里准备记录下<a href="http://item.jd.com/11402853.html">Effective Objective-C 2.0 编写高质量iOS与OS X 代码的52个有效方法</a>这本提到的知识点。</p>

<h3>第一章 熟悉Objective-C</h3>

<h4>第1条 了解Objective-C的起源</h4>

<p>1.OC是C语音的超集，在C的基础上面添加了面向对象特征，并且是使用了消息结构并非函数调用。
超集的意思大概就是爸爸跟儿子，S1就是S2的超集；
<img src="http://7xnp79.com1.z0.glb.clouddn.com/64380cd7912397dd663433635f82b2b7d0a2870c.png" alt="">
消息结构与函数调用的区别是：消息结构最终执行的代码块是由运行环境决定的，函数调用的代码块有编译器决定，在编译的时候已经确定好。</p>

<p>2.面向过程与面向对象的区别
这个说实话我也不知道怎么解释 突然感觉很难回答这个问题</p>

<blockquote>
<p>面向过程就是分析出解决问题所需要的步骤，然后用函数把这些步骤一步一步实现，使用的时候一个一个依次调用就可以了。
面向对象是把构成问题事务分解成各个对象，建立对象的目的不是为了完成一个步骤，而是为了描叙某个事物在整个解决问题的步骤中的行为。</p>
</blockquote>

<p>3.OC中的动态库与静态库
博客：<br>
<a href="http://www.cnblogs.com/cmx-ios2014/p/3802618.html?utm_source=tuicool&amp;utm_medium=referral">http://www.cnblogs.com/cmx-ios2014/p/3802618.html?utm_source=tuicool&amp;utm_medium=referral</a>
<a href="http://www.jianshu.com/p/42070c513104">http://www.jianshu.com/p/42070c513104</a>
<a href="http://www.cnblogs.com/striveLD/p/5752010.html">http://www.cnblogs.com/striveLD/p/5752010.html</a></p>

<p>4.C语言中的内存模型<br>
<a href="http://www.cnblogs.com/haore147/p/3921263.html">http://www.cnblogs.com/haore147/p/3921263.html</a></p>

<p>5.内存中的堆空间(heap space) 栈(stack)<br>
分配在堆中的内存必须直接管理，分配在栈上用于保存变量的内存则会在栈帧弹出式自动清理。</p>

<p>6.不能在栈上面分配OC对象</p>

<p>7.CGRect不属于OC对象
相比于结构体，创建对象需要额外的开销，比如分配及释放内存堆，所以在操作一对非OC对象是，可以考虑用结构体来操作。</p>

<h4>第2条 在类的头文件中尽量少引用其他头文件</h4>

<p>1.A类的头文件中有一个B类型的属性<br>
引用头文件的方式有3种：#import #incudule @class关键字<br>
首先说明#import是由gcc编译器支持的，其实就是#incudule改良版本<br>
#import确保了引用的这个文件只被引进一次，而#incudule就会出现死循环引用，导致程序报错；<br>
@class关键字“向前声明”告诉你有这个类，具体定义不清楚，这样子可以解决引用无法识别该对象的问题，也解决了循环引用的问题<br>
#import #incudule 引进类来，会拿到这个类的头文件的信息了，这里违反了最少原则，所以一般在.h头文件中尽量少用；<br>
使用@class可以减少.h中对其他类的依赖、减少链接到其他类所需要的时间，从而降低编译时间；  </p>

<p>一般来说在.h中，首选@class 然后在迫不得已的时候才用#import(继承，实现协议)<br>
对于协议来说 可以使用类扩展在.m中申明一个匿名类别来声明，只有在子类需要统一实现这个协议的时候才会放在.h中，暂时没有了解到其他情况得非在.h中#import协议。  </p>

<p>2.两个类互相引用的问题 A类中有B类的属性 B类中也有A类的属性<br>
使用#incudule这样子会报错，但是使用#import的话只能保证一个类被编译到了，也是用问题的，在这里只能用@class解决这个循环引用的问题。  </p>

<p><del>3.在实现文件中声明此类实现了该委托协议，并把这段代码放在“class-continuation”分类中</del></p>

<h4>第3条 多使用字面量语法，少用与之等价的方法</h4>

<p>1.好处缩减代码长度，更加易读</p>

<p>2.对于字面量数组/字典来说，对象中有nil会抛出异常</p>

<blockquote>
<p>NSArray *array = @[@&quot;&quot;,@&quot;&quot;,@&quot;&quot;];</p>

<p>NSDictionary *dictionary = @{key:value}；</p>
</blockquote>

<p>3.糖衣语法(语法糖)</p>

<blockquote>
<p>糖衣语法，又叫‘语法糖’、‘语法盐’等等，是由英国计算机科学家彼得·约翰·兰达（Peter J.Landin）发明的一个术语，指计算机语言中添加的某种语法，这种语法对语言的功能并没有影响，但是更方便程序员使用。通常来说使用语法糖能够增加程序的可读性，从而减少程序代码出错的机会。</p>
</blockquote>

<p>额，就是简单粗暴，减少出错；</p>

<p><del>4.字面量语法 非字面量语法</del></p>

<h4>第4条 多用类型常量，少用#define预处理指令</h4>

<p>1.#define预处理指令
#define kAnimationTime 3<br>
在程序代码中多次使用同一个变量，可以用#define预处理指令来抽取，这样子可以达到第一层的抽取，在一般情况下面我们可以满足需求，利用define它会将kAnimationTime直接替换成3；所以这里如果定义在.h文件中，在其他引用了这个头文件的类中的kAnimationTime也会被替换，而且#define预处理指令是没有类型的，替换掉了也不清楚，可以在引用的地方修改定义好的值，有一定的风险，万一实在想用，记得注意命名问题和定义的位置。  </p>

<p>2.定义常量跟#define预处理指令的区别
static const CGFloat kMargin = 10.0f；<br>
可以明确的定义清楚类型，防止使用代码修改值，这样子在使用的过程减少出错。<br>
定义名字的常用规则：需要限定在某编译单元(即本类中)则在前面添加k；<br>
需要在其他类可见，一般是用此类的类名做前缀；<br>
使用static修饰，是将该变量仅仅定义在该变量的编译单元中，如果不使用static修饰,编译器会为这个变量创建一个&quot;外部符号&quot;,此时其他类也声明了同名变量就会报错了。</p>

<p>3.全局常量，需要添加到“全局符号表中”</p>

<blockquote>
<p>extern NSString *const PXYNotification;  </p>

<p>NSString *const PXYNotification = @PXYNotification&quot;&quot;;</p>
</blockquote>

<p><del>####第5条 用枚举表示状态、选项、状态码</del>
<del>1.定义枚举的几种方式</del>
<del>2.按位与操作符</del>
<del>3.NS_ENUM与NS_OPTIONS宏的区别</del></p>

  </section>
</article>

<section class="read-more">
   
   
   <div class="read-more-item">
       <span class="read-more-item-dim">最近的文章</span>
       <h2 class="post-list__post-title post-title"><a href="/2017/04/NSTimer/" title="link to NSTimer 知识点">NSTimer 知识点</a></h2>
       <p class="excerpt">[TOC]NSTimer 是什么定时器 一般都是用来做一些周期性的任务使用遇到什么问题内存释放问题、定时器失效问题为什么会出现这些问题内存释放问题当定时器被加到run loop 生效的时候，run loop 会强引用这个定时器对象（retain），然后定时器又会强引用这个Target 对象，这样子就会导致这个定时器一直存在，这个Target 对象一直存在，导致一直释放不了单纯将NSTimer置为nil，是不能使定时器失效的，runloop 已经强引用这个timer 了，要使得定时器失效需要...&hellip;</p>
       <div class="post-list__meta"><time datetime="2017-04-21 00:00:00 +0800" class="post-list__meta--date date">2017-04-21</time> &#8226; <span class="post-list__meta--tags tags"></span><a class="btn-border-small" href=/2017/04/NSTimer/>继续阅读</a></div>
   </div>
   
   
   
   
   <div class="read-more-item">
       <span class="read-more-item-dim">更早的文章</span>
       <h2 class="post-list__post-title post-title"><a href="/2016/07/iOS_SigleCase/" title="link to iOS单例模式">iOS单例模式</a></h2>
       <p class="excerpt">单例 保证一个对象只实例化一次 全局使用的都是同一个对象一是某个类只能有一个实例；二是它必须自行创建这个实例；三是它必须自行向整个系统提供这个实例。第一种写法： +(instancetype)shareInstance{static PXYGuidePageHelper *instance;        @synchronized(self) {            if (instance == nil) {                instance = [PXYGuidePa...&hellip;</p>
       <div class="post-list__meta"><time datetime="2016-07-28 00:00:00 +0800" class="post-list__meta--date date">2016-07-28</time> &#8226; <span class="post-list__meta--tags tags"></span><a class="btn-border-small" href=/2016/07/iOS_SigleCase/>继续阅读</a></div>
   </div>
   
</section>

<section class="post-comments">
  
    <div class="ds-thread" data-thread-key="/2016/07/Effective-Objective-C-2.0-zongjie-one/" data-title="Effective Objective-C 2.0 总结（一）" data-url="http://pengxuyuan.github.io/2016/07/Effective-Objective-C-2.0-zongjie-one/"></div>
    <script type="text/javascript">
        var duoshuoQuery = {short_name:"pengxuyuan"};
        (function() {
            var ds = document.createElement('script');
            ds.type = 'text/javascript';ds.async = true;
            ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
            ds.charset = 'UTF-8';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ds);
        })();
    </script>
  
  
  
  
</section>


            <section class="footer">
    <footer>
    	<span class="footer__copyright">本站点采用<a href="http://creativecommons.org/licenses/by-nc-sa/4.0/">知识共享 署名-非商业性使用-相同方式共享 4.0 国际 许可协议</a></span>
        <span class="footer__copyright">由 <a href="https://jekyllrb.com">Jekyll</a> 于 2017-04-24 生成，感谢 <a href="https://www.digitalocean.com/?refcode=30ed2d146762">Digital Ocean</a> 为本站提供稳定的 VPS 服务</span>
        <span class="footer__copyright">本站由 <a href="http://pengxuyuan.github.io">@彭序猿</a> 创建，采用 <a href="https://github.com/onevcat/vno-jekyll">Vno - Jekyll</a> 作为主题，您可以在 GitHub 找到<a href="https://github.com/onevcat/OneV-s-Den">本站源码</a> - &copy; 2017</span>
    </footer>
</section>

        </div>
    </div>

    <script type="text/javascript" src="//code.jquery.com/jquery-1.11.3.min.js"></script>

<script type="text/javascript" src="/js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

<script type="text/javascript" src="/js/main.js"></script>




  </body>

</html>
